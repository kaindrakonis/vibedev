#!/usr/bin/env node

const { spawnSync } = require('child_process');
const path = require('path');
const fs = require('fs');
const os = require('os');

const BINARY_NAME = 'claudev' + (os.platform() === 'win32' ? '.exe' : '');
const binaryPath = path.join(__dirname, BINARY_NAME);

if (!fs.existsSync(binaryPath)) {
  console.error('claudev: Binary not found. Run: npm install -g claudev');
  process.exit(1);
}

const result = spawnSync(binaryPath, process.argv.slice(2), { stdio: 'inherit' });
process.exit(result.status ?? 1);
